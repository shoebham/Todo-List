(()=>{"use strict";class t{list_of_todo=[];constructor(t){this.project_name=t}addItem(t){this.list_of_todo.push(t)}removeItem(t){console.log("Before removing",this.list_of_todo),this.list_of_todo.splice(this.list_of_todo.indexOf(t),1),console.log("After removing",this.list_of_todo)}getItem(t){return this.list_of_todo[this.list_of_todo.indexOf(t)]}deleteProject(){this.list_of_todo=[],console.log(this.project_name+" deleted")}getTitle(){return this.project_name}getList(){return this.list_of_todo}}class e{constructor(t,e,o,n){this.title=t,this.desc=e,this.due=o,this.prior=n}setPriority(t){this.prior=t}getPriority(){return this.prior}setTitle(t){this.title=t}getTitle(){return this.title}setDesc(t){this.desc=t}getDesc(){return this.desc}setDue(t){this.due=t}getDue(){return this.due}}let o=[],n=[];function i(t){let e=document.createElement("li");return e.textContent=t.getTitle(),e.appendChild(s(e)),e}function l(){console.log("in setup");let n=function(){let t=document.createElement("div");return t.className="todo",t}(),l=new t("Project");o.push(l);let c=new e("Todo",1,2,3),r=new e("Todo3",1,2,3),u=i(new e("Todo2",1,2,3));l.addItem(c),l.addItem(r);let a=function(t){let e=document.createElement("ul");return e.textContent=t.getTitle(),e.appendChild(s(e)),t.getList().forEach((o=>{let n=i(o);n.classList.add("projectItem"),n.classList.add(t.getTitle()),e.appendChild(n)})),e}(l);return n.appendChild(a),n.appendChild(u),console.log(o),n.appendChild(d()),n}function s(t){let e=document.createElement("button");return e.textContent="⚰️",e.className="delete",e.addEventListener("click",(()=>{!function(t){t.classList.contains("projectItem")&&function(t){let e=t.childNodes[0].textContent,n=t.classList[1];o.forEach((t=>{console.log("project title",t.getTitle(),e,n),t.getTitle()==n&&(t.removeItem(e),console.log(t))}))}(t),function(t){t.remove()}(t),console.log(o)}(t)})),e}function d(){let t=document.createElement("button");return t.textContent="Add",t.className="add",t.addEventListener("click",(()=>{t.replaceWith(function(){let t=document.createElement("div");t.className="inputDiv";let o=document.createElement("input");o.className="inputTask",o.type="text",o.placeholder="Enter new task";let l=document.createElement("button");return l.textContent="Add",l.className="inputButton",l.addEventListener("click",(()=>{let t=o.value,l=i(new e(t));n.push(l),function(t){document.querySelector(".inputDiv").remove();let e=document.querySelector(".todo");e.appendChild(t),e.appendChild(d())}(l)})),t.appendChild(o),t.appendChild(l),t}())})),t}!function(){let t=document.getElementById("content");console.log(document.getElementById("content")),t.appendChild(l())}()})();