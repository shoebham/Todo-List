(()=>{"use strict";class e{list_of_todo=new Set;constructor(e){this.project_name=e}addItem(e){this.list_of_todo.add(e)}removeItem(e){console.log("Before removing",this.list_of_todo),this.list_of_todo.delete(e),console.log("After removing",this.list_of_todo)}getItem(e){return this.list_of_todo[this.list_of_todo.indexOf(e)]}deleteProject(){this.list_of_todo=[],console.log(this.project_name+" deleted")}getTitle(){return this.project_name}getList(){return this.list_of_todo}}class t{constructor(e,t,n,o){this.title=e,this.desc=t,this.due=n,this.prior=o}setPriority(e){this.prior=e}getPriority(){return this.prior}setTitle(e){this.title=e}getTitle(){return this.title}setDesc(e){this.desc=e}getDesc(){return this.desc}setDue(e){this.due=e}getDue(){return this.due}}let n=new Set,o=new Set;function l(e){let t=document.createElement("li"),l=document.createElement("input"),i=document.createElement("label"),c=document.createElement("span");return l.type="checkbox",t.style="list-style-type: none",c.textContent=e.getTitle(),l.addEventListener("change",(()=>{c.classList.toggle("completed")})),i.appendChild(l),i.appendChild(c),t.appendChild(i),t.appendChild(d(t)),t.appendChild(function(e){let t=document.createElement("button");return t.textContent="✏️",t.className="edit",t.addEventListener("click",(()=>{console.log("Editing",e.childNodes[0].textContent);let l=document.createElement("input");l.type="text";let i=e.childNodes[0].textContent;l.value=i,e.replaceChild(l,e.childNodes[0]);let d=document.createElement("button");d.textContent="✔️",d.className="done",d.addEventListener("click",(()=>{let c=l.value,s=document.createElement("input");s.type="checkbox";let a=document.createElement("label");a.appendChild(s),a.appendChild(document.createTextNode(c)),e.replaceChild(a,l),e.replaceChild(t,d),function(e,t){let l;n.forEach((o=>{l=r(e,o.getList()),null!=l&&l.setTitle(t),console.log("List of project tasks after editing",n)})),null==l&&(r(e,o).setTitle(t),console.log("List of individual tasks after editing",o))}(i,c)})),e.replaceChild(d,t)})),t}(t)),t}function i(){let i=function(){let e=document.createElement("div");return e.className="todo",e}(),s=new e("Project");n.add(s);let r=new t("Todo",1,2,3),a=new t("Todo3",1,2,3);s.addItem(r),s.addItem(a);let u=function(e){let t=document.createElement("ul");return t.id=e.getTitle(),t.textContent=e.getTitle(),t.appendChild(d(t)),e.getList().forEach((n=>{let o=l(n);o.classList.add("projectItem"),o.classList.add(e.getTitle()),t.appendChild(o)})),t}(s),p=new t("Todo2",1,2,3),m=l(p);return o.add(p),i.appendChild(u),i.appendChild(m),console.log("in setup list of projects",n),i.appendChild(c()),i}function d(e){let t=document.createElement("button");return t.textContent="⚰️",t.className="delete",t.addEventListener("click",(()=>{!function(e){e.classList.contains("projectItem")&&function(e){let t=e.childNodes[0].textContent,n=s(e.classList[1]);n.removeItem(r(t,n.getList()))}(e),function(e){let t=e.childNodes[0].textContent;console.log("deleting",t),e.remove(),console.log("List of individual tasks before deleting",o),o.delete(r(t,o)),console.log("List of individual tasks after deleting",o)}(e)}(e)})),t}function c(){let e=document.createElement("button");return e.textContent="Add",e.className="add",e.addEventListener("click",(()=>{e.replaceWith(function(){let e=document.createElement("div");e.className="inputDiv";let i=document.createElement("input");i.className="inputTask",i.type="text",i.placeholder="Enter new task";let d=document.createElement("button");d.textContent="Add",d.className="inputButton";let r=function(){let e=document.createElement("select");e.className="projectDropdown";let t=document.createElement("option");return t.textContent="--",e.appendChild(t),n.forEach((t=>{let n=document.createElement("option");n.textContent=t.getTitle(),e.appendChild(n)})),e}();return console.log("project List before adding ",n),console.log(r.value),d.addEventListener("click",(()=>{let e=i.value,d=new t(e,1,2,3),a=l(d);if("--"==r.value)o.add(d),function(e){document.querySelector(".inputDiv").remove();let t=document.querySelector(".todo");t.appendChild(e),t.appendChild(c())}(a);else{let e=s(r.value);e.addItem(d),function(e,t){document.querySelector(".inputDiv").remove(),document.querySelector(".todo").appendChild(c()),document.getElementById(t).appendChild(e)}(a,e.getTitle())}console.log("project List after adding ",n)})),e.appendChild(i),e.appendChild(r),e.appendChild(d),e}())})),e}function s(e){let t;return n.forEach((n=>{n.getTitle()==e&&(t=n)})),t}function r(e,t){let n;return t.forEach((t=>{t.getTitle()==e&&(n=t)})),n}document.getElementById("content").appendChild(i())})();