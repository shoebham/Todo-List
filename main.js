(()=>{"use strict";class e{list_of_todo=new Set;constructor(e){this.project_name=e}addItem(e){this.list_of_todo.add(e)}removeItem(e){console.log("Before removing",this.list_of_todo),this.list_of_todo.delete(e),console.log("After removing",this.list_of_todo)}getItem(e){return this.list_of_todo[this.list_of_todo.indexOf(e)]}deleteProject(){this.list_of_todo=[],console.log(this.project_name+" deleted")}getTitle(){return this.project_name}getList(){return this.list_of_todo}}class t{constructor(e,t,n,o){this.title=e,this.desc=t,this.due=n,this.prior=o}setPriority(e){this.prior=e}getPriority(){return this.prior}setTitle(e){this.title=e}getTitle(){return this.title}setDesc(e){this.desc=e}getDesc(){return this.desc}setDue(e){this.due=e}getDue(){return this.due}}let n=new Set,o=new Set;function l(e){let t=document.createElement("li"),l=document.createElement("input"),i=document.createElement("label"),c=document.createElement("span");return l.type="checkbox",t.style="list-style-type: none",c.textContent=e.getTitle(),l.addEventListener("change",(()=>{c.classList.toggle("completed")})),i.appendChild(l),i.appendChild(c),t.appendChild(i),t.appendChild(d(t)),t.appendChild(function(e){let t=document.createElement("button");return t.textContent="✏️",t.className="edit",t.addEventListener("click",(()=>{console.log("Editing",e.childNodes[0].textContent);let l=document.createElement("input");l.type="text";let i=e.childNodes[0].textContent;l.value=i,e.replaceChild(l,e.childNodes[0]);let d=document.createElement("button");d.textContent="✔️",d.className="done",d.addEventListener("click",(()=>{let c=l.value,s=document.createElement("input");s.type="checkbox";let r=document.createElement("label");r.appendChild(s),r.appendChild(document.createTextNode(c)),e.replaceChild(r,l),e.replaceChild(t,d),function(e,t){n.forEach((o=>{o.getList().forEach((l=>{l.getTitle()==e&&(l.setTitle(t),console.log("Edited",t,"in",o.getTitle()),console.log("after editing",n))}))})),o.forEach((n=>{n.getTitle()==e&&n.setTitle(t)}))}(i,c)})),e.replaceChild(d,t)})),t}(t)),t}function i(){console.log("in setup");let i=function(){let e=document.createElement("div");return e.className="todo",e}(),s=new e("Project");n.add(s);let r=new t("Todo",1,2,3),a=new t("Todo3",1,2,3);s.addItem(r),s.addItem(a);let u=function(e){let t=document.createElement("ul");return t.textContent=e.getTitle(),t.appendChild(d(t)),e.getList().forEach((n=>{let o=l(n);o.classList.add("projectItem"),o.classList.add(e.getTitle()),t.appendChild(o)})),t}(s),p=new t("Todo2",1,2,3),m=l(p);return o.add(p),i.appendChild(u),i.appendChild(m),console.log("in setup list of projects",n),i.appendChild(c()),i}function d(e){let t=document.createElement("button");return t.textContent="⚰️",t.className="delete",t.addEventListener("click",(()=>{!function(e){e.classList.contains("projectItem")&&function(e){let t=e.childNodes[0].textContent,o=e.classList[1];n.forEach((e=>{console.log("Removing",t,"from",o),e.getTitle()==o&&e.removeItem(t)}))}(e),function(e){console.log("deleting",e.childNodes[0].textContent),e.remove(),console.log("List of tasks after deleting",o)}(e)}(e)})),t}function c(){let e=document.createElement("button");return e.textContent="Add",e.className="add",e.addEventListener("click",(()=>{e.replaceWith(function(){let e=document.createElement("div");e.className="inputDiv";let n=document.createElement("input");n.className="inputTask",n.type="text",n.placeholder="Enter new task";let i=document.createElement("button");return i.textContent="Add",i.className="inputButton",i.addEventListener("click",(()=>{let e=n.value,i=new t(e,1,2,3);o.add(i),function(e){document.querySelector(".inputDiv").remove();let t=document.querySelector(".todo");t.appendChild(e),t.appendChild(c())}(l(i))})),e.appendChild(n),e.appendChild(i),e}())})),e}document.getElementById("content").appendChild(i())})();