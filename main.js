(()=>{"use strict";class e{list_of_todo=[];constructor(e){this.project_name=e}addItem(e){this.list_of_todo.push(e)}removeItem(e){console.log("Before removing",this.list_of_todo),this.list_of_todo.splice(this.list_of_todo.indexOf(e),1),console.log("After removing",this.list_of_todo)}getItem(e){return this.list_of_todo[this.list_of_todo.indexOf(e)]}deleteProject(){this.list_of_todo=[],console.log(this.project_name+" deleted")}getTitle(){return this.project_name}getList(){return this.list_of_todo}}class t{constructor(e,t,n,o){this.title=e,this.desc=t,this.due=n,this.prior=o}setPriority(e){this.prior=e}getPriority(){return this.prior}setTitle(e){this.title=e}getTitle(){return this.title}setDesc(e){this.desc=e}getDesc(){return this.desc}setDue(e){this.due=e}getDue(){return this.due}}let n=new Set,o=new Set;function l(e){let t=document.createElement("li"),n=document.createElement("input"),o=document.createElement("label"),l=document.createElement("span");return n.type="checkbox",t.style="list-style-type: none",l.textContent=e.getTitle(),n.addEventListener("change",(()=>{console.log("here"),l.classList.toggle("completed")})),o.appendChild(n),o.appendChild(l),t.appendChild(o),t.appendChild(i(t)),t.appendChild(function(e){let t=document.createElement("button");return t.textContent="✏️",t.className="edit",t.addEventListener("click",(()=>{console.log("Editing",e.childNodes[0].textContent);let n=document.createElement("input");n.type="text",n.value=e.childNodes[0].textContent,e.replaceChild(n,e.childNodes[0]);let o=document.createElement("button");o.textContent="✔️",o.className="done",o.addEventListener("click",(()=>{let l=n.value,d=document.createElement("input");d.type="checkbox";let i=document.createElement("label");i.appendChild(d),i.appendChild(document.createTextNode(l)),e.replaceChild(i,n),e.replaceChild(t,o)})),e.replaceChild(o,t)})),t}(t)),t}function d(){console.log("in setup");let o=function(){let e=document.createElement("div");return e.className="todo",e}(),d=new e("Project");n.add(d);let s=new t("Todo",1,2,3),r=new t("Todo3",1,2,3),a=l(new t("Todo2",1,2,3));d.addItem(s),d.addItem(r);let u=function(e){let t=document.createElement("ul");return t.textContent=e.getTitle(),t.appendChild(i(t)),e.getList().forEach((n=>{let o=l(n);o.classList.add("projectItem"),o.classList.add(e.getTitle()),t.appendChild(o)})),t}(d);return o.appendChild(u),o.appendChild(a),console.log(n),o.appendChild(c()),o}function i(e){let t=document.createElement("button");return t.textContent="⚰️",t.className="delete",t.addEventListener("click",(()=>{!function(e){e.classList.contains("projectItem")&&function(e){let t=e.childNodes[0].textContent,o=e.classList[1];n.forEach((e=>{console.log("Removing",t,"from",o),e.getTitle()==o&&(e.removeItem(t),console.log(e))}))}(e),function(e){console.log("deleting",e.childNodes[0].textContent),e.remove(),console.log("List of tasks after deleting",o)}(e)}(e)})),t}function c(){let e=document.createElement("button");return e.textContent="Add",e.className="add",e.addEventListener("click",(()=>{e.replaceWith(function(){let e=document.createElement("div");e.className="inputDiv";let n=document.createElement("input");n.className="inputTask",n.type="text",n.placeholder="Enter new task";let d=document.createElement("button");return d.textContent="Add",d.className="inputButton",d.addEventListener("click",(()=>{let e=n.value,d=l(new t(e));o.push(d),function(e){document.querySelector(".inputDiv").remove();let t=document.querySelector(".todo");t.appendChild(e),t.appendChild(c())}(d)})),e.appendChild(n),e.appendChild(d),e}())})),e}!function(){let e=document.getElementById("content");console.log(document.getElementById("content")),e.appendChild(d())}()})();